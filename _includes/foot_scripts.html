	<!-- Import jQuery -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-latest.js"></script>

	<!-- Import Tether -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>

	<!-- Import Bootstrap Javascript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

	<!-- MathJax -->
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<script>
		// dynamically add navigation button (go to top) if scrolled to bottom
		$(window).scroll(function(){
				// if distance from top, plus window height greater than document height minus buffer
				// i.e. if bottom of screen is within 200 pixels from bottom of document
				if ($(window).scrollTop() + $(window).height() > $(document).height() - 200) {
						$('#back2top').fadeIn();
				} else {
						$('#back2top').fadeOut();
				}
		});
		$('#back2top').click(function(){
				$("html, body").animate({ scrollTop: 0 }, 400);
				return false;
		});
</script>

{% if page.is_home %}
	{% include functions/buildFeedCard.html %}
	<script>
		feeds = ['https://news.google.com/news?topic=tc&output=rss', // google news - technology
			// feedburner NOT WORKING 'http://feeds.feedburner.com/GDBcode', // google developer blog
			// feedburner NOT WORKING 'http://feeds.feedburner.com/blogspot/gJZg', // google research blog
			// feedburner NOT WORKING 'http://feeds.feedburner.com/TechCrunch/', //techcrunch
			'https://www.technologyreview.com/stories.rss', // mit tech all stories
			'https://medium.com/feed/tag/tech', // medium posts tagged tech
			'http://www.npr.org/rss/rss.php?id=1019', // npr tech
			'http://feeds.hbr.org/harvardbusiness/', // harvard business review
			// 'https://www.reddit.com/r/technology/.rss', // subreddit tech
			// 'https://github.com/blog.atom', // github blog
			// 'http://planetpython.org/rss20.xml', //python community updates
			// 'https://www.xda-developers.com/feed/', // xda-developers blog
			// 'https://www.wired.com/category/gear/feed/', //wired tech
			// 'http://www.theverge.com/rss/index.xml', // the verge all
			'https://blog.acolyer.org/feed/' // the morning paper
		]

		function get_feeds() {
			// console.log("clearing feeds");
			$('#feeds').empty();
			// console.log("getting feeds");
			feeds.forEach(function (url, i) {
				buildFeedCard(url, '#feeds', i);
			});
		};

		window.onload = function() {
			get_feeds();
		};

	</script>
{% endif %}

{% if page.is_post %}
	<script>
		window.onload = function() {
			// CREATE CUSTOM POST NAVIGATION
			// use kramdown auto generated TOC - https://kramdown.gettalong.org/converter/html.html#toc
			// transform into bootstrap nav, and apply scrollspy

			// wrap markdown-toc in navbar div
			$('#markdown-toc').wrapAll('<nav id="post-nav" class="navbar post-nav">');
			// add scrollspy to post navigation
			$('body').scrollspy({target: "#post-nav", offset: 50});
			// format toc objects with classes for custom scrollspy
			$('#markdown-toc').addClass('nav justify-content-center');
			$('#markdown-toc li').addClass('nav-item');
			$('#markdown-toc a').addClass('nav-link');
			// capitalize headings - because I do not in markdown
			$('#markdown-toc a').css({"text-transform": "capitalize"});
			// loop thru toc list, get headings
			// pad each heading to clear post-nav when linked
			$('#markdown-toc li a').each(function(index) {
				heading = $(this).attr('id');
				// remove auto pre text from toc id
				heading = heading.replace("markdown-toc-", "")
				$("#"+heading).css({"padding-top": "50px"});
			});

			// fix post navbar on scroll past
			var distanceFromTop = $('#post-nav').offset().top;
			$(window).scroll(function() {
				var currentScroll = $(window).scrollTop();
				if (currentScroll >= distanceFromTop) {
					$('#post-nav').addClass('fixed-top');
				} else {
					$('#post-nav').removeClass('fixed-top');
				}
			});

			// add links to post headers
			$(function() {
			  return $("h2, h3, h4, h5, h6").each(function(i, el) {
			    var $el, icon, id;
			    $el = $(el);
			    id = $el.attr('id');
			    icon = '<i class="material-icons">link</i>';
			    if (id) {
			      return $el.prepend($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
			    }
			  });
			});

		};
	</script>
{% endif %}
